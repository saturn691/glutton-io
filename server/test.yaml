config:
  target: "ws://3.10.169.198:8080"
  processor: "./test.js"
  phases:
    - duration: 5 # Run scenario for 120 seconds
      arrivalCount: 1000
      # arrivalRate: 60 # Create 60 virtual user per second
scenarios:
  - name: Websocket Test
    engine: "ws"
    flow:
      - function: 'sendMessagePeriodically'
      - think: 119
      # - function: 'sendMessage'
      # - function: 'receiveMessage'
      # - waitForResponse: true
      # - send: {"type": "load_test", "msg": "hello!"}